syntax = "proto3";

package server;

message OpenRecognizeNotifyRequest {
    message RecognizeResult {
        message Face {
            message MetaData {
                float yaw = 1;
                float pitch = 2;
                float roll = 3;
            }
            repeated float feature = 1;
            MetaData metadata = 2;
            optional bytes image = 3;
        }
        message Car {
            string license_plate_number = 1;
            optional bytes image = 2;
        }
        message Cigarettes {
            repeated string classes = 1;
            optional bytes image = 2;
        }
        repeated Face faces = 1;
        repeated Car cars = 2;
        Cigarettes cigarettes = 3;
    }
    uint64 task_id = 1;
    RecognizeResult result = 2;
}

message OpenRecognizeNotifyResponse {
    message Cigarette {
        message Spec {
            string cigarette_spec_name = 1;
            string cigarette_spec_code = 2;
            uint32 total_carton = 3;
            uint32 total_pack = 4;
            string suspicious_type = 5; 
        }
        repeated Spec specs = 1;
        string image = 2;
    }
    uint32 errno = 1;
    string errmsg = 2;
    Cigarette data = 3;
}