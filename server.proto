syntax = "proto3";

package server;

message OpenRecognizeNotifyRequest {
    message RecognizeResult {
        message Face {
            message MetaData {
                float yaw = 1;
                float pitch = 2;
                float roll = 3;
            }
            repeated float feature = 1;
            repeated int32 xyxy = 2;
            MetaData metadata = 3;
            optional bytes image = 4;
        }
        message Car {
            string license_plate_number = 1;
            optional bytes image = 2;
        }
        message Class {
            string class = 1;
            uint32 x1 = 2;
            uint32 x2 = 3;
            uint32 y1 = 4;
            uint32 y2 = 5;
        }
        message Cigarettes {
            repeated Class classes = 1;
            optional bytes image = 2;
        }
        repeated Face faces = 1;
        repeated Car cars = 2;
        Cigarettes cigarettes = 3;
    }
    uint64 task_id = 1;
    RecognizeResult result = 2;
}

message OpenRecognizeNotifyResponse {
    uint32 errno = 1;
    string errmsg = 2;
}